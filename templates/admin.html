<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Master Admin Dashboard</title>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        html{
            scroll-behavior: smooth;
        }
    </style>
</head>
<body class="bg-gray-100 flex">
    <div class="w-64 bg-blue-900 min-h-screen text-white p-6 fixed">
        <h1 class="text-2xl font-bold mb-8">Admin Panel</h1>
        <nav class="space-y-4 text-sm">
            <a href="/" class="block hover:text-blue-300">View Website</a>
            <div class="pt-4 border-t border-blue-800">
                <a href="#personal" class="block hover:text-blue-300 py-1">Personal Info</a>
                <a href="#education" class="block hover:text-blue-300 py-1">Education</a>
                <a href="#experience" class="block hover:text-blue-300 py-1">Experience</a>
                <a href="#awards" class="block hover:text-blue-300 py-1">Awards</a>
                <a href="#skills" class="block hover:text-blue-300 py-1">Skills</a>
                <a href="#references" class="block hover:text-blue-300 py-1">References</a>
            </div>
            
            <div class="pt-10">
                <a href="/logout" class="block text-center bg-red-600 hover:bg-red-700 text-white font-bold py-2 rounded transition">
                    Logout
                </a>
            </div>
        </nav>
    </div>

    <main class="ml-64 p-10 w-full">
        <section id="personal" class="bg-white p-6 rounded shadow mb-8">
            <h2 class="text-xl font-bold mb-4 border-b">Personal Info & Objective</h2>
            <form action="/admin/personal/update" method="post" enctype="multipart/form-data" class="grid grid-cols-2 gap-4">
                <div class="col-span-2">
                    <label class="block text-xs font-bold text-gray-500 uppercase mb-1">Profile Picture</label>
                    <input type="file" name="profile_pic" class="w-full border p-2 rounded text-sm">
                </div>
                <input type="text" name="name" value="{{ personal.full_name if personal }}" class="border p-2 rounded" placeholder="Full Name">
                <input type="text" name="email" value="{{ personal.email if personal }}" class="border p-2 rounded" placeholder="Email">
                <textarea name="obj" class="col-span-2 border p-2 rounded" placeholder="Objective">{{ personal.objective if personal }}</textarea>
                <input type="text" name="phone" value="{{ personal.phone if personal }}" class="border p-2 rounded" placeholder="Phone">
                <input type="text" name="address" value="{{ personal.address if personal }}" class="border p-2 rounded" placeholder="Address">
                <div class="col-span-2">
                    <label class="block text-xs font-bold text-gray-500 uppercase mb-1">About Me </label>
                    <textarea name="about_me" class="w-full border p-2 rounded" rows="4" placeholder="Tell us about yourself...">{{ personal.about_me if personal }}</textarea>
                </div>
                <button type="submit" class="col-span-2 bg-blue-600 text-white py-2 rounded">Update Personal Info</button>
            </form>
        </section>
        
        <section id="education" class="bg-white p-6 rounded shadow mb-8">
            <h2 class="text-xl font-bold mb-4 border-b">Manage Education</h2>
            <form action="/admin/education/add" method="post" class="grid grid-cols-1 md:grid-cols-3 gap-2 mb-6">
                <input type="text" name="institution" placeholder="Institution" class="border p-2 rounded" required>
                <input type="text" name="year" placeholder="Year (e.g., 2022-2026)" class="border p-2 rounded" required>
                <input type="text" name="description" placeholder="Education" class="border p-2 rounded" required>
                <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded md:col-span-3">Add Education</button>
            </form>

            {% for edu in education %}
            <div class="border-t py-3">
                <div class="flex justify-between items-center">
                    <span><strong>{{ edu.institution }}</strong> ({{ edu.year }})</span>
                    <div class="space-x-3">
                        <button onclick="document.getElementById('edit-edu-{{ edu.id }}').classList.toggle('hidden')" class="text-blue-600 font-bold">Edit</button>
                        <a href="/admin/education/delete/{{ edu.id }}" class="text-red-600 font-bold">Delete</a>
                    </div>
                </div>
                <form id="edit-edu-{{ edu.id }}" action="/admin/education/update/{{ edu.id }}" method="post" class="hidden mt-4 bg-gray-50 p-4 rounded grid grid-cols-1 gap-2">
                    <input type="text" name="institution" value="{{ edu.institution }}" class="border p-2 rounded">
                    <input type="text" name="year" value="{{ edu.year }}" class="border p-2 rounded">
                    <input type="text" name="description" value="{{ edu.description }}" class="border p-2 rounded">
                    <button type="submit" class="bg-blue-600 text-white py-2 rounded">Update Education</button>
                </form>
            </div>
            {% endfor %}
        </section>

        <section id="experience" class="bg-white p-6 rounded shadow mb-8">
            <h2 class="text-xl font-bold mb-4 border-b">Manage Experience</h2>
            <form action="/admin/experience/add" method="post" class="grid grid-cols-1 gap-4 mb-6">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-2">
                    <input type="text" name="company" placeholder="Company" class="border p-2 rounded" required>
                    <input type="text" name="position" placeholder="Position" class="border p-2 rounded" required>
                    <input type="text" name="duration" placeholder="Duration" class="border p-2 rounded" required>
                </div>
                <textarea name="description" placeholder="Describe your responsibilities..." class="border p-2 rounded w-full" rows="3"></textarea>
                <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded font-bold hover:bg-green-700 transition">Add Experience</button>
            </form>

            {% for exp in experience %}
            <div class="border-t py-4">
                <div class="flex justify-between items-center">
                    <div>
                        <p class="font-bold text-lg">{{ exp.position }} <span class="text-gray-500 text-sm">at {{ exp.company }}</span></p>
                        <p class="text-gray-600 text-sm whitespace-pre-line">{{ exp.description }}</p>
                    </div>
                    <div class="space-x-3">
                        <button onclick="document.getElementById('edit-exp-{{ exp.id }}').classList.toggle('hidden')" class="text-blue-600 font-bold">Edit</button>
                        <a href="/admin/experience/delete/{{ exp.id }}" class="text-red-600 font-bold">Delete</a>
                    </div>
                </div>
                <form id="edit-exp-{{ exp.id }}" action="/admin/experience/update/{{ exp.id }}" method="post" class="hidden mt-4 bg-gray-50 p-4 rounded grid grid-cols-1 gap-4">
                    <div class="grid grid-cols-3 gap-2">
                        <input type="text" name="company" value="{{ exp.company }}" class="border p-2 rounded">
                        <input type="text" name="position" value="{{ exp.position }}" class="border p-2 rounded">
                        <input type="text" name="duration" value="{{ exp.duration }}" class="border p-2 rounded">
                    </div>
                    <textarea name="description" class="border p-2 rounded w-full" rows="3">{{ exp.description }}</textarea>
                    <button type="submit" class="bg-blue-600 text-white py-2 rounded font-bold">Update Experience</button>
                </form>
            </div>
            {% endfor %}
        </section>

        <section id="awards" class="bg-white p-6 rounded shadow mb-8">
            <h2 class="text-xl font-bold mb-4 border-b">Manage Awards</h2>
            <form action="/admin/award/add" method="post" class="flex gap-2 mb-6">
                <input type="text" name="title" placeholder="Award Title" class="border p-2 flex-1 rounded" required>
                <input type="text" name="year" placeholder="Year" class="border p-2 w-32 rounded" required>
                <button type="submit" class="bg-green-600 text-white px-4 rounded">Add</button>
            </form>

            {% for award in awards %}
            <div class="border-t py-3">
                <div class="flex justify-between items-center">
                    <span><strong>{{ award.title }}</strong> ({{ award.year }})</span>
                    <div class="space-x-3">
                        <button onclick="document.getElementById('edit-award-{{ award.id }}').classList.toggle('hidden')" class="text-blue-600 font-bold">Edit</button>
                        <a href="/admin/award/delete/{{ award.id }}" class="text-red-600 font-bold">Delete</a>
                    </div>
                </div>
                <form id="edit-award-{{ award.id }}" action="/admin/award/update/{{ award.id }}" method="post" class="hidden mt-2 flex gap-2">
                    <input type="text" name="title" value="{{ award.title }}" class="border p-1 rounded flex-1">
                    <input type="text" name="year" value="{{ award.year }}" class="border p-1 rounded w-24">
                    <button type="submit" class="bg-blue-500 text-white px-2 rounded">Save</button>
                </form>
            </div>
            {% endfor %}
        </section>

        <section id="skills" class="bg-white p-6 rounded shadow mb-8">
            <h2 class="text-xl font-bold mb-4 border-b">Manage Skills</h2>
            <form action="/admin/skill/add" method="post" class="flex gap-2 mb-6">
                <input type="text" name="name" placeholder="Skill " class="border p-2 flex-1 rounded" required>
                <select name="level" class="border p-2 w-48 rounded bg-white" required>
                    <option value="" disabled selected>Select Level</option>
                    <option value="Beginner">Beginner</option>
                    <option value="Intermediate">Intermediate</option>
                    <option value="Advanced">Advanced</option>
                    <option value="Expert">Expert</option>
                </select>
                <button type="submit" class="bg-green-600 text-white px-4 rounded font-bold">Add</button>
            </form>

            {% for skill in skills %}
            <div class="border-t py-3">
                <div class="flex justify-between items-center">
                    <span><strong>{{ skill.name }}</strong> â€” <span class="text-blue-600 font-semibold">{{ skill.level }}</span></span>
                    <div class="space-x-3">
                        <button onclick="document.getElementById('edit-skill-{{ skill.id }}').classList.toggle('hidden')" class="text-blue-600 font-bold">Edit</button>
                        <a href="/admin/skill/delete/{{ skill.id }}" class="text-red-600 font-bold">Delete</a>
                    </div>
                </div>
                <form id="edit-skill-{{ skill.id }}" action="/admin/skill/update/{{ skill.id }}" method="post" class="hidden mt-2 flex gap-2">
                    <input type="text" name="name" value="{{ skill.name }}" class="border p-2 flex-1 rounded text-sm">
                    <select name="level" class="border p-2 w-40 rounded text-sm bg-white">
                        <option value="Beginner" {% if skill.level == 'Beginner' %}selected{% endif %}>Beginner</option>
                        <option value="Intermediate" {% if skill.level == 'Intermediate' %}selected{% endif %}>Intermediate</option>
                        <option value="Advanced" {% if skill.level == 'Advanced' %}selected{% endif %}>Advanced</option>
                        <option value="Expert" {% if skill.level == 'Expert' %}selected{% endif %}>Expert</option>
                    </select>
                    <button type="submit" class="bg-blue-500 text-white px-4 rounded text-sm font-bold">Save</button>
                </form>
            </div>
            {% endfor %}
        </section>
        
        <section id="references" class="bg-white p-6 rounded shadow mb-8">
            <h2 class="text-xl font-bold mb-4 border-b">Manage References</h2>
            <form action="/admin/reference/add" method="post" class="grid grid-cols-1 md:grid-cols-3 gap-2 mb-6">
                <input type="text" name="name" placeholder="Name" class="border p-2 rounded" required>
                <input type="text" name="relationship" placeholder="Relationship" class="border p-2 rounded" required>
                <input type="text" name="contact" placeholder="Contact Info" class="border p-2 rounded" required>
                <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded md:col-span-3">Add Reference</button>
            </form>

            {% for ref in references %}
            <div class="border-t py-3">
                <div class="flex justify-between items-center">
                    <span><strong>{{ ref.name }}</strong> ({{ ref.relationship }})</span>
                    <div class="space-x-3">
                        <button onclick="document.getElementById('edit-ref-{{ ref.id }}').classList.toggle('hidden')" class="text-blue-600 font-bold">Edit</button>
                        <a href="/admin/reference/delete/{{ ref.id }}" class="text-red-600 font-bold">Delete</a>
                    </div>
                </div>
                <form id="edit-ref-{{ ref.id }}" action="/admin/reference/update/{{ ref.id }}" method="post" class="hidden mt-4 bg-gray-50 p-4 rounded grid grid-cols-1 gap-2">
                    <input type="text" name="name" value="{{ ref.name }}" class="border p-2 rounded">
                    <input type="text" name="relationship" value="{{ ref.relationship }}" class="border p-2 rounded">
                    <input type="text" name="contact" value="{{ ref.contact }}" class="border p-2 rounded">
                    <button type="submit" class="bg-blue-600 text-white py-2 rounded">Update Reference</button>
                </form>
            </div>
            {% endfor %}
        </section>
        </main>
</body>
</html>